{% extends "layout.html" %}
{% block content %}
<div class="container py-4">
  <div class="text-center p-5">
    <h1 class="mb-3">Welcome to DiRex Bank</h1>
    <p class="lead">Simple demo banking site: register, login, deposit, transfer.</p>
  </div>


  <h1 class="mb-3">Human Resources API — Documentation</h1>
  <p>This API returns <strong>JSON</strong>. Admin-only actions require admin login (session) or a Bearer token from <code>/api/auth/login</code>.</p>

  <h4>Auth</h4>
  <table class="table table-sm table-bordered">
    <thead><tr><th>Endpoint</th><th>Method</th><th>Input</th><th>Response (example)</th></tr></thead>
    <tbody>
      <tr>
        <td>/api/auth/login</td>
        <td>POST</td>
        <td><pre>{"email":"admin@example.com","password":"adminpass"}</pre></td>
        <td><pre>{"message":"login successful","token":"...","admin":{...}}</pre></td>
      </tr>
    </tbody>
  </table>

  <h4>Employees</h4>
  <table class="table table-sm table-bordered">
    <thead><tr><th>Endpoint</th><th>Method</th><th>Input</th><th>Response (example)</th></tr></thead>
    <tbody>
      <tr>
        <td>/api/employees?search=term</td>
        <td>GET</td>
        <td>query param optional</td>
        <td><pre>[{ "employee_id":"EMP-001","name":"Alice",... }]</pre></td>
      </tr>
      <tr>
        <td>/api/employees</td>
        <td>POST</td>
        <td><pre>{"employee_id":"EMP-001","name":"Alice","email":"a@x.com","department":"","position":"","salary":5000,"remark":""}</pre></td>
        <td><pre>{"message":"employee created","employee":{...}}</pre></td>
      </tr>
      <tr>
        <td>/api/employees/&lt;employee_id&gt;</td>
        <td>GET</td>
        <td>path param</td>
        <td><pre>{"employee_id":"EMP-001","name":"Alice",...}</pre></td>
      </tr>
      <tr>
        <td>/api/employees/&lt;employee_id&gt;</td>
        <td>PUT</td>
        <td>JSON with fields to update</td>
        <td><pre>{"message":"employee updated","employee":{...}}</pre></td>
      </tr>
      <tr>
        <td>/api/employees/&lt;employee_id&gt;</td>
        <td>DELETE</td>
        <td>path param</td>
        <td><pre>{"message":"employee deleted"}</pre></td>
      </tr>
      <tr>
        <td>/api/employees/&lt;employee_id&gt;/remark</td>
        <td>PUT</td>
        <td><pre>{"remark":"Good team player"}</pre></td>
        <td><pre>{"message":"remark updated","employee":{...}}</pre></td>
      </tr>
    </tbody>
  </table>

  <a class="btn btn-primary me-2" href="{{ url_for('routes.login') }}">Create Account</a>
  <a class="btn btn-outline-primary" href="{{ url_for('routes.login') }}">Login</a>
  <!--p>Admin UI: <a href="/login">/login</a> → after login go to <a href="/admin">/admin</a></p-->
</div>
{%endblock%}